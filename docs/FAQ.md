# FAQ

## マイクの指定
recognize.exeを--print_micsで実行するとマイクデバイスをコンソールに出力します。そのIDを--micオプションに指定します。


## マイクに同じものが並んでいます
マイクを使用するホストAPIが異なります。MMEとWASAPIで動作を確認しています。


## マイクが文字化けしています
使っているライブラリの問題なので今のところ仕様です。

## 音声認識のタイミング
発声時間が--mic_phrase秒以上、無音時間が--mic_pause秒経過したタイミングで音声認識を行います。  
ゆかりねっとのような逐次認識は行いません。

認識周りのパラメータ関係性は下図です。
![_](assets/faq01.png)

## 発話時間とPCMのサイズが一致しません
特定の条件下でPCMデータ末尾にフェード処理を入れPCMデータを水増しします。これは末尾すぐの音が認識されにくいための処置です。フェードデータが挿入されている場合--verbose 2で「末尾0.25s挿入」が表示されます。

## マイク感度の調整
デフォルトでマイク音量が300(この値が具体的にどの音量なのかはお使いのマイクによります)を下回る場合無音として扱われます。話終わっても認識をが始まらない場合のノイズを拾っているので--mic_energyを300より大きい値に設定してください。
話していても認識されない場合--mic_energyを300より低い値にしてください。  
  
--test micで起動してしゃべり終わったタイミングで認識修了が表示されるか確認してください。しゃべり終わっても認識が続いている場合は雑音を拾っています。


## --method googleとgoogle_duplexは何が違いますか？
google : speech_recognition実装の移植  
google_duplex : chromium実装の移植  